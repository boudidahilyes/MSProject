<div class="login-container">
    <div class="login-card">
      <h2>Create New Password</h2>
      <p class="subtext">Your new password must be different from previous passwords</p>
      
      <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="newPassword">New Password</label>
          <div class="password-input">
            <input 
              [type]="showNewPassword ? 'text' : 'password'" 
              id="newPassword" 
              formControlName="newPassword"
              placeholder="Enter new password">
            <span class="toggle-password" (click)="showNewPassword = !showNewPassword">
              {{ showNewPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
            </span>
          </div>
          <div *ngIf="resetForm.get('newPassword')?.touched && resetForm.get('newPassword')?.errors" class="error-text">
            <div *ngIf="resetForm.get('newPassword')?.errors?.['required']">Password is required</div>
            <div *ngIf="resetForm.get('newPassword')?.errors?.['minlength']">
              Must be at least 8 characters
            </div>
            <div *ngIf="resetForm.get('newPassword')?.errors?.['pattern']">
              Requires 1 uppercase, 1 lowercase, and 1 number
            </div>
          </div>
        </div>
  
        <div class="form-group">
          <label for="confirmNewPassword">Confirm Password</label>
          <div class="password-input">
            <input 
              [type]="showConfirmPassword ? 'text' : 'password'" 
              id="confirmNewPassword" 
              formControlName="confirmNewPassword"
              placeholder="Confirm new password">
            <span class="toggle-password" (click)="showConfirmPassword = !showConfirmPassword">
              {{ showConfirmPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
            </span>
          </div>
          <div *ngIf="resetForm.get('confirmNewPassword')?.touched && resetForm.hasError('mismatch')" class="error-text">
            Passwords don't match
          </div>
        </div>
  
        <button 
          type="submit" 
          class="login-btn"
          [disabled]="resetForm.invalid || loading">
          {{ loading ? 'Updating...' : 'Reset Password' }}
        </button>
  
        <div *ngIf="successMessage" class="success-message">
          <mat-icon>check_circle</mat-icon>
          {{ successMessage }}
        </div>
  
        <div *ngIf="errorMessage" class="error-message">
          <mat-icon>error</mat-icon>
          {{ errorMessage }}
        </div>
      </form>
    </div>
  </div>